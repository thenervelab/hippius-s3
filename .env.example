# Production/Development Environment Configuration
# This file is loaded AFTER .env.defaults and overrides base configuration.
# Copy this file to .env and fill in your production values.
#
# .env.defaults contains base configuration (feature flags, worker settings, limits)
# This file should contain:
#   - Connection strings (database, redis, IPFS)
#   - Production secrets (HMAC keys, seed phrases)
#   - Production-specific overrides of defaults

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@db:5432/hippius?sslmode=disable
HIPPIUS_KEYSTORE_DATABASE_URL=postgresql://postgres:postgres@db:5432/hippius_keys?sslmode=disable

# Redis Configuration (use docker service names for docker-compose)
REDIS_URL=redis://redis:6379/0
REDIS_ACCOUNTS_URL=redis://redis-accounts:6379/0
REDIS_CHAIN_URL=redis://redis-chain:6379/0
REDIS_QUEUES_URL=redis://redis-queues:6379/0
REDIS_RATE_LIMITING_URL=redis://redis-rate-limiting:6379/0

# IPFS Configuration
# For local development with docker-compose:
HIPPIUS_IPFS_GET_URL=http://ipfs:8080
HIPPIUS_IPFS_STORE_URL=http://ipfs:5001
# For production, use Hippius hosted nodes:
#HIPPIUS_IPFS_GET_URL=https://get.hippius.network
#HIPPIUS_IPFS_STORE_URL=https://store.hippius.network

# Security - CHANGE THIS IN PRODUCTION
FRONTEND_HMAC_SECRET=your-secret-key-here

# Blockchain - CHANGE THIS IN PRODUCTION
RESUBMISSION_SEED_PHRASE="your twelve word seed phrase here for blockchain resubmissions"

# ============================================================================
# OPTIONAL: Override defaults from .env.defaults
# ============================================================================

# Logging (default: DEBUG in .env.defaults)
#LOG_LEVEL=INFO

# Environment marker (default: test in .env.defaults)
#ENVIRONMENT=production

# Feature Flags (defaults set in .env.defaults, override here for production)
#ENABLE_AUDIT_LOGGING=true
#ENABLE_STRICT_VALIDATION=true
#ENABLE_API_DOCS=false
#PUBLISH_TO_CHAIN=true
#HIPPIUS_BYPASS_CREDIT_CHECK=false

# Rate Limiting (default: 100000 in .env.defaults for testing)
#RATE_LIMIT_PER_MINUTE=1000

# S3 Limits (defaults in .env.defaults, override for production if needed)
#MAX_BUCKET_NAME_LENGTH=100
#MAX_OBJECT_KEY_LENGTH=100
#MAX_METADATA_SIZE=200

# ============================================================================
# Additional Configuration
# ============================================================================

# Database Migration Tool (dbmate)
DBMATE_MIGRATIONS_DIR=/app/hippius_s3/sql/migrations
DBMATE_SCHEMA_FILE=/app/hippius_s3/sql/schema.sql

# Cachet Health Monitoring
CACHET_API_URL=https://status.example.com
CACHET_API_KEY=your-cachet-api-key-here
CACHET_COMPONENT_ID=1

# SQL backup credentials
AWS_BACKUP_ACCESS_KEY_ID=your-key-id
AWS_BACKUP_SECRET_ACCESS_KEY=your-secret-key-id
AWS_BACKUP_REGION=region
AWS_BACKUP_ENDPOINT_URL=https://your.endpoint.url
