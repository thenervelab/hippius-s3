# Docker Connection Strings for E2E Containers
# Use Docker service names for containers running in docker-compose
ENVIRONMENT=test
ENABLE_MONITORING=false

# Authentication (test values)
HIPPIUS_SERVICE_KEY=test_hippius_key_0123456789abcdef0123456789abcdef0123456789abcdef0123456789ab
HIPPIUS_AUTH_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

ENABLE_AUDIT_LOGGING=true
ENABLE_API_DOCS=true
ENABLE_REQUEST_PROFILING=false
ENABLE_BANHAMMER=false
HIPPIUS_BYPASS_CREDIT_CHECK=true
PUBLISH_TO_CHAIN=false

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@db:5432/hippius?sslmode=disable
HIPPIUS_KEYSTORE_DATABASE_URL=postgresql://postgres:postgres@db:5432/hippius?sslmode=disable
SKIP_KEYSTORE_SETUP=true

# IPFS Configuration (via toxiproxy for fault injection)
HIPPIUS_IPFS_GET_URL=http://toxiproxy:18080
HIPPIUS_IPFS_STORE_URL=http://toxiproxy:15001

# Hippius API (mock for E2E tests)
HIPPIUS_API_BASE_URL=http://mock-hippius-api:8001

# Redis URLs
REDIS_URL=redis://redis:6379/0
REDIS_ACCOUNTS_URL=redis://redis-accounts:6379/0
REDIS_CHAIN_URL=redis://redis-chain:6379/0
REDIS_QUEUES_URL=redis://redis-queues:6379/0
REDIS_RATE_LIMITING_URL=redis://redis-rate-limiting:6379/0
REDIS_ACL_URL=redis://redis-acl:6379/0

# KMS Mode: required for E2E tests (uses mock KMS)
HIPPIUS_KMS_MODE=required

# Filesystem cache pressure thresholds (relaxed for E2E tests)
HIPPIUS_FS_CACHE_MIN_FREE_BYTES=1073741824
HIPPIUS_FS_CACHE_MIN_FREE_RATIO=0.01

# OVH KMS Configuration (for KEK wrapping)
# Routes through toxiproxy for fault injection testing
HIPPIUS_OVH_KMS_ENDPOINT=https://toxiproxy:18443
HIPPIUS_OVH_KMS_OKMS_ID=mock-okms-id
HIPPIUS_OVH_KMS_DEFAULT_KEY_ID=test-key-id
HIPPIUS_OVH_KMS_CERT_PATH=/kms_certs/client.crt
HIPPIUS_OVH_KMS_KEY_PATH=/kms_certs/client.key
HIPPIUS_OVH_KMS_CA_PATH=/kms_certs/ca.crt
HIPPIUS_OVH_KMS_TIMEOUT_SECONDS=30.0
HIPPIUS_OVH_KMS_MAX_RETRIES=3
