# Test Environment Configuration
# This file contains test-specific environment variables used by:
# - Integration tests (tests/integration/)
# - E2E tests via docker-compose.e2e.yml
# - GitHub Actions CI pipeline
#
# Safe to commit - contains no secrets, only test configuration

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/hippius?sslmode=disable
HIPPIUS_KEYSTORE_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/hippius?sslmode=disable

# IPFS Configuration (localhost for python tests, overridden in docker-compose.e2e.yml)
HIPPIUS_IPFS_GET_URL=http://localhost:8080
HIPPIUS_IPFS_STORE_URL=http://localhost:5001

# Security
FRONTEND_HMAC_SECRET=e2e_test_secret
RATE_LIMIT_PER_MINUTE=100000
MAX_REQUEST_SIZE_MB=100

# S3 Limits
MIN_BUCKET_NAME_LENGTH=3
MAX_BUCKET_NAME_LENGTH=63
MAX_OBJECT_KEY_LENGTH=1024
MAX_METADATA_SIZE=2048

# Logging
LOG_LEVEL=DEBUG
LOKI_URL=http://localhost:3100/loki/api/v1/push
LOKI_ENABLED=false

# Server Configuration
HOST=0.0.0.0
PORT=8000
ENVIRONMENT=test
DEBUG=false

# Feature Flags
ENABLE_AUDIT_LOGGING=false
ENABLE_STRICT_VALIDATION=false
ENABLE_API_DOCS=false
ENABLE_REQUEST_PROFILING=false
ENABLE_BANHAMMER=false
HIPPIUS_BYPASS_CREDIT_CHECK=true
PUBLISH_TO_CHAIN=false

# Blockchain
HIPPIUS_SUBSTRATE_URL=wss://rpc.hippius.network
HIPPIUS_VALIDATOR_REGION=decentralized
RESUBMISSION_SEED_PHRASE=about acid actor absent action able actual abandon abstract above ability achieve

# Redis URLs (localhost for python tests, overridden in docker-compose.e2e.yml)
REDIS_URL=redis://localhost:6379/0
REDIS_ACCOUNTS_URL=redis://localhost:6380/0
REDIS_CHAIN_URL=redis://localhost:6381/0
REDIS_QUEUES_URL=redis://localhost:6382/0
REDIS_RATE_LIMITING_URL=redis://localhost:6383/0

# Uploader Configuration
HIPPIUS_IPFS_MAX_RETRIES=1
HIPPIUS_UPLOADER_MAX_ATTEMPTS=2
HIPPIUS_UPLOADER_BACKOFF_BASE_MS=100
HIPPIUS_UPLOADER_BACKOFF_MAX_MS=500

# Substrate Worker Configuration
HIPPIUS_SUBSTRATE_BATCH_SIZE=1
HIPPIUS_SUBSTRATE_BATCH_MAX_AGE_SEC=1
HIPPIUS_SUBSTRATE_MAX_RETRIES=3
HIPPIUS_SUBSTRATE_RETRY_BASE_MS=5000
HIPPIUS_SUBSTRATE_RETRY_MAX_MS=15000
HIPPIUS_SUBSTRATE_CALL_TIMEOUT_SECONDS=20.0

# HTTP Configuration
HTTP_STREAM_INITIAL_TIMEOUT_SECONDS=0.5

# DLQ Configuration
HIPPIUS_DLQ_DIR=/tmp/hippius_dlq
HIPPIUS_DLQ_ARCHIVE_DIR=/tmp/hippius_dlq_archive
